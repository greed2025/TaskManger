<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Task Manager - „Çø„Çπ„ÇØÁÆ°ÁêÜ</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;500;600;700;800;900&display=swap" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <nav class="navigation">
        <div class="nav-container">
            <button class="nav-btn active" onclick="switchPage('tasks')">
                <i class="fas fa-tasks"></i>
                „Çø„Çπ„ÇØÁÆ°ÁêÜ
            </button>
            <button class="nav-btn" onclick="switchPage('gantt')">
                <i class="fas fa-chart-gantt"></i>
                „Ç¨„É≥„Éà„ÉÅ„É£„Éº„Éà
            </button>
            <button class="nav-btn" onclick="switchPage('character')">
                <i class="fas fa-store"></i>
                „ÅîË§íÁæé„Ç∑„Éß„ÉÉ„Éó
            </button>
        </div>
    </nav>

    <div id="tasksPage" class="page-content active">
    <div class="container">
        <header class="header">
                <h1><i class="fas fa-brain"></i> Task Manager</h1>
            <p>„Ç∑„É≥„Éó„É´„ÉªË¶ñË¶öÁöÑ„ÉªÂ†±ÈÖ¨„Éô„Éº„Çπ„ÅÆ„Çø„Çπ„ÇØÁÆ°ÁêÜ</p>
            <div class="stats">
                <div class="stat-item">
                        <div class="stat-header">
                            <div class="stat-icon">
                                <i class="fas fa-tasks"></i>
                            </div>
                            <div class="stat-menu-icon">
                                <i class="fas fa-ellipsis-h"></i>
                            </div>
                        </div>
                    <span class="stat-number" id="totalTasks">0</span>
                        <div class="stat-label">Êú™ÂÆå‰∫Ü„Çø„Çπ„ÇØ</div>
                        <div class="stat-description">ÊÆã„Å£„Å¶„ÅÑ„Çã„Çø„Çπ„ÇØ„ÅÆÊï∞</div>
                        <div class="stat-progress">
                            <div class="progress-bar">
                                <div class="progress-fill" id="totalProgress" style="width: 0%"></div>
                            </div>
                            <span class="progress-text"></span>
                        </div>
                </div>
                <div class="stat-item">
                        <div class="stat-header">
                            <div class="stat-icon">
                                <i class="fas fa-check-circle"></i>
                            </div>
                            <div class="stat-menu-icon">
                                <i class="fas fa-ellipsis-h"></i>
                            </div>
                        </div>
                    <span class="stat-number" id="completedTasks">0</span>
                        <div class="stat-label">‰ªäÊúàÂÆå‰∫Ü</div>
                        <div class="stat-description">‰ªäÊúàÂÆå‰∫Ü„Åó„Åü„Çø„Çπ„ÇØ„ÅÆÊï∞</div>
                        <div class="stat-progress">
                            <div class="progress-bar">
                                <div class="progress-fill" id="completedProgress" style="width: 0%"></div>
                            </div>
                            <span class="progress-text" id="completionRate"></span>
                        </div>
                </div>
                <div class="stat-item">
                        <div class="stat-header">
                            <div class="stat-icon">
                                <i class="fas fa-star"></i>
                            </div>
                            <div class="stat-menu-icon" onclick="showPointsMenu(event)">
                                <i class="fas fa-cog"></i>
                            </div>
                        </div>
                    <span class="stat-number" id="focusPoints">0</span>
                        <div class="stat-label">„Éï„Ç©„Éº„Ç´„Çπ„Éù„Ç§„É≥„Éà</div>
                        <div class="stat-description">Áç≤Âæó„Åó„Åü„Éù„Ç§„É≥„Éà„ÅÆÂêàË®à</div>
                        <div class="stat-progress">
                            <div class="progress-bar">
                                <div class="progress-fill" id="pointsProgress" style="width: 0%"></div>
                            </div>
                            <span class="progress-text" id="pointsLevel">0pt</span>
                        </div>
                </div>
            </div>
        </header>

        <div class="main-content">
            <div class="task-input-section">
                    <h2 class="section-title">
                        <i class="fas fa-plus-circle"></i>
                        Êñ∞„Åó„ÅÑ„Çø„Çπ„ÇØ„ÇíËøΩÂä†
                    </h2>
                <div class="input-group">
                    <input type="text" id="taskInput" class="task-input" placeholder="„Çø„Çπ„ÇØ„ÇíÂÖ•Âäõ„Åó„Å¶„Åè„Å†„Åï„ÅÑ..." />
                        <div class="date-input-group">
                            <label class="date-label">ÈñãÂßãÊó•</label>
                            <input type="date" id="taskStartDate" class="task-input" />
                        </div>
                        <div class="date-input-group">
                            <label class="date-label">ÁµÇ‰∫ÜÊó•</label>
                            <input type="date" id="taskEndDate" class="task-input" />
                        </div>
                    <select id="prioritySelect">
                            <option value="high"><i class="fas fa-exclamation-triangle"></i> Á∑äÊÄ•„ÉªÈáçË¶Å</option>
                            <option value="medium" selected><i class="fas fa-circle"></i> ÊôÆÈÄö</option>
                            <option value="low"><i class="fas fa-arrow-down"></i> ‰ΩéÂÑ™ÂÖàÂ∫¶</option>
                    </select>
                        <div class="points-input-group">
                            <label for="taskPoints">„Éù„Ç§„É≥„Éà:</label>
                            <select id="taskPoints" class="points-select">
                                <option value="high">È´ò (20pt)</option>
                                <option value="medium" selected>‰∏≠ (15pt)</option>
                                <option value="low">Â∞è (10pt)</option>
                    </select>
                        </div>
                        <button class="add-btn" onclick="addTask()">
                            <i class="fas fa-plus"></i>
                            ËøΩÂä†
                        </button>
                    </div>
                    
                    <div class="csv-toggle-section">
                        <button class="csv-toggle-btn" onclick="toggleCSVImport()">
                            <i class="fas fa-file-csv"></i>
                            CSV„Éï„Ç°„Ç§„É´„Åã„Çâ‰∏ÄÊã¨ËøΩÂä†
                            <i class="fas fa-chevron-down csv-toggle-icon" id="csvToggleIcon"></i>
                        </button>
                    </div>
                    
                    <div class="csv-import-section" id="csvImportSection" style="display: none;">
                        <div class="csv-controls">
                            <div class="csv-upload-group">
                                <input type="file" id="csvFileInput" accept=".csv" style="display: none;" onchange="handleCSVUpload(event)">
                                <button class="csv-btn upload-btn" onclick="document.getElementById('csvFileInput').click()">
                                    <i class="fas fa-upload"></i>
                                    CSV„Éï„Ç°„Ç§„É´ÈÅ∏Êäû
                                </button>
                                <span id="csvFileName" class="csv-filename"></span>
                            </div>
                            <button class="csv-btn template-btn" onclick="downloadCSVTemplate()">
                                <i class="fas fa-download"></i>
                                „ÉÜ„É≥„Éó„É¨„Éº„ÉàDL
                            </button>
                            <button class="csv-btn import-btn" onclick="importCSVTasks()" id="csvImportBtn" disabled>
                                <i class="fas fa-file-import"></i>
                                „Ç§„É≥„Éù„Éº„ÉàÂÆüË°å
                            </button>
                            <button class="csv-btn cancel-upload-btn" onclick="cancelCSVUpload()" id="csvCancelBtn" style="display: none;">
                                <i class="fas fa-times"></i>
                                „Ç≠„É£„É≥„Çª„É´
                            </button>
                        </div>
                        
                        <div class="csv-preview" id="csvPreview" style="display: none;">
                            <h4 class="csv-preview-title">„Éó„É¨„Éì„É•„Éº</h4>
                            <div class="csv-preview-content" id="csvPreviewContent"></div>
                        </div>
                </div>
                
                <div class="focus-timer">
                        <h3 class="timer-title">
                            <i class="fas fa-bullseye"></i>
                            ÈõÜ‰∏≠„Çø„Ç§„Éû„Éº
                        </h3>
                        <div class="timer-settings">
                            <label for="timerMinutes">„Çø„Ç§„Éû„ÉºÊôÇÈñì:</label>
                            <div class="timer-input-group">
                                <button class="timer-adjust-btn" onclick="adjustTimer(-5)">
                                    <i class="fas fa-minus"></i>
                                </button>
                                <input type="number" id="timerMinutes" min="1" max="120" value="25" onchange="updateTimerSetting()">
                                <button class="timer-adjust-btn" onclick="adjustTimer(5)">
                                    <i class="fas fa-plus"></i>
                                </button>
                            </div>
                        </div>
                    <div class="timer-display" id="timerDisplay">25:00</div>
                    <div class="timer-controls">
                            <button class="timer-btn start-timer" onclick="startTimer()">
                                <i class="fas fa-play"></i>
                                ÈñãÂßã
                            </button>
                            <button class="timer-btn pause-timer" onclick="pauseTimer()">
                                <i class="fas fa-pause"></i>
                                ‰∏ÄÊôÇÂÅúÊ≠¢
                            </button>
                            <button class="timer-btn reset-timer" onclick="resetTimer()">
                                <i class="fas fa-redo"></i>
                                „É™„Çª„ÉÉ„Éà
                            </button>
                        </div>
                    </div>
                </div>

                <div class="task-columns">
                    <div class="task-column urgent">
                        <h2 class="column-title">
                            <i class="fas fa-exclamation-triangle"></i>
                            Á∑äÊÄ•„ÉªÈáçË¶Å
                        </h2>
                        <div id="urgentTasks"></div>
                    </div>

                    <div class="task-column normal">
                        <h2 class="column-title">
                            <i class="fas fa-list-ul"></i>
                            „Åù„ÅÆ‰ªñ„ÅÆ„Çø„Çπ„ÇØ
                        </h2>
                        <div id="normalTasks"></div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div id="characterPage" class="page-content">
        <div class="container">
            <header class="header">
                <h1><i class="fas fa-store"></i> „ÅîË§íÁæé„Ç∑„Éß„ÉÉ„Éó</h1>
                <p>„Éù„Ç§„É≥„Éà„Çí‰Ωø„Å£„Å¶Ëá™ÂàÜ„Å∏„ÅÆ„ÅîË§íÁæé„ÇíË≥ºÂÖ•</p>
                <div class="stats">
                    <div class="stat-item">
                        <div class="stat-header">
                            <div class="stat-icon">
                                <i class="fas fa-star"></i>
                            </div>
                            <div class="stat-menu-icon">
                                <i class="fas fa-ellipsis-h"></i>
                            </div>
                        </div>
                        <span class="stat-number" id="shopPoints">0</span>
                        <div class="stat-label">‰øùÊúâ„Éù„Ç§„É≥„Éà</div>
                        <div class="stat-description">‰ΩøÁî®ÂèØËÉΩ„Å™„Éù„Ç§„É≥„Éà</div>
                        <div class="stat-progress">
                            <div class="progress-bar">
                                <div class="progress-fill" style="width: 100%"></div>
                            </div>
                            <span class="progress-text">„ÅîË§íÁæé„ÇíË≥ºÂÖ•„Åó„Çà„ÅÜÔºÅ</span>
                        </div>
                    </div>
                </div>
            </header>

            <div class="main-content">
                <div class="task-input-section">
                    <h2 class="section-title">
                        <i class="fas fa-plus-circle"></i>
                        Êñ∞„Åó„ÅÑ„ÅîË§íÁæé„ÇíËøΩÂä†
                    </h2>
                    <div class="input-group">
                        <input type="text" id="rewardName" class="task-input" placeholder="„ÅîË§íÁæé„ÅÆÂêçÂâç„ÇíÂÖ•Âäõ..." />
                        <input type="number" id="rewardCost" class="task-input" min="1" max="1000" placeholder="ÂøÖË¶Å„Éù„Ç§„É≥„Éà" />
                        <select id="rewardCategory" class="task-input">
                            <option value="food">üç∞ È£ü„ÅπÁâ©</option>
                            <option value="entertainment">üéÆ Â®ØÊ•Ω</option>
                            <option value="shopping">üõçÔ∏è „Ç∑„Éß„ÉÉ„Éî„É≥„Ç∞</option>
                            <option value="relaxation">üõÅ „É™„É©„ÉÉ„ÇØ„Çπ</option>
                            <option value="other">‚ú® „Åù„ÅÆ‰ªñ</option>
                        </select>
                        <button class="add-btn" onclick="addReward()">
                            <i class="fas fa-plus"></i>
                            ËøΩÂä†
                        </button>
                </div>
            </div>

                <div class="task-columns">
            <div class="task-column urgent">
                        <h2 class="column-title">
                            <i class="fas fa-gift"></i>
                            ÁôªÈå≤Ê∏à„Åø„ÅîË§íÁæé
                        </h2>
                        <div id="availableRewards"></div>
            </div>

            <div class="task-column normal">
                        <h2 class="column-title">
                            <i class="fas fa-history"></i>
                            Ë≥ºÂÖ•Â±•Ê≠¥
                        </h2>
                        <div id="purchasedRewards"></div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div id="ganttPage" class="page-content">
        <div class="container">
            <header class="header">
                <h1><i class="fas fa-chart-gantt"></i> „Ç¨„É≥„Éà„ÉÅ„É£„Éº„Éà</h1>
                <p>„Çø„Çπ„ÇØ„ÅÆÈÄ≤Ë°åÁä∂Ê≥Å„ÇíÊôÇÁ≥ªÂàó„ÅßÂèØË¶ñÂåñ</p>
            </header>

            <div class="gantt-content">
                <div class="gantt-stats">
                    <div class="gantt-stat-card">
                        <div class="gantt-stat-number" id="ganttTotalTasks">0</div>
                        <div class="gantt-stat-label">Á∑è„Çø„Çπ„ÇØÊï∞</div>
                    </div>
                    <div class="gantt-stat-card">
                        <div class="gantt-stat-number" id="ganttActiveTasks">0</div>
                        <div class="gantt-stat-label">ÈÄ≤Ë°å‰∏≠</div>
                    </div>
                    <div class="gantt-stat-card">
                        <div class="gantt-stat-number" id="ganttCompletedTasks">0</div>
                        <div class="gantt-stat-label">‰ªäÊúàÂÆå‰∫Ü</div>
                    </div>
                    <div class="gantt-stat-card">
                        <div class="gantt-stat-number" id="ganttOverdueTasks">0</div>
                        <div class="gantt-stat-label">ÊúüÈôêÂàá„Çå</div>
                    </div>
                </div>

                <div class="gantt-controls">
                    <div class="view-controls">
                        <button class="view-btn active" onclick="setGanttView('week')">
                            <i class="fas fa-calendar-week"></i>
                            ÈÄ±Ë°®Á§∫
                        </button>
                        <button class="view-btn" onclick="setGanttView('month')">
                            <i class="fas fa-calendar-alt"></i>
                            ÊúàË°®Á§∫
                        </button>
                    </div>
                    <div class="date-navigation">
                        <button class="nav-arrow" onclick="navigateGantt(-1)">
                            <i class="fas fa-chevron-left"></i>
                        </button>
                        <span class="current-period" id="currentPeriod">2024Âπ¥1Êúà</span>
                        <button class="nav-arrow" onclick="navigateGantt(1)">
                            <i class="fas fa-chevron-right"></i>
                        </button>
                        <button class="today-btn" onclick="goToToday()">
                            <i class="fas fa-calendar-day"></i>
                            ‰ªäÊó•
                        </button>
                    </div>
                </div>

                <!-- „Éï„Ç£„É´„Çø„Çª„ÇØ„Ç∑„Éß„É≥ -->
                <div class="gantt-filters">
                    <div class="filter-section">
                        <div class="filter-group">
                            <label class="filter-label">
                                <i class="fas fa-search"></i>
                                Ê§úÁ¥¢
                            </label>
                            <div class="search-input-group">
                                <input type="text" id="ganttSearchInput" class="search-input" placeholder="„Çø„Çπ„ÇØÂêç„ÅßÊ§úÁ¥¢..." onkeyup="setGanttSearchFilter()">
                                <i class="fas fa-search search-icon"></i>
                            </div>
                        </div>
                        
                        <div class="filter-group">
                            <label class="filter-label">
                                <i class="fas fa-flag"></i>
                                ÂÑ™ÂÖàÂ∫¶
                            </label>
                            <div class="filter-buttons">
                                <button class="filter-btn priority-filter-btn active" onclick="setGanttFilter('priority', 'all')">
                                    „Åô„Åπ„Å¶
                                </button>
                                <button class="filter-btn priority-filter-btn priority-high" onclick="setGanttFilter('priority', 'high')">
                                    Á∑äÊÄ•
                                </button>
                                <button class="filter-btn priority-filter-btn priority-medium" onclick="setGanttFilter('priority', 'medium')">
                                    ÊôÆÈÄö
                                </button>
                                <button class="filter-btn priority-filter-btn priority-low" onclick="setGanttFilter('priority', 'low')">
                                    ‰Ωé
                                </button>
                            </div>
                        </div>
                        
                        <div class="filter-group">
                            <label class="filter-label">
                                <i class="fas fa-tasks"></i>
                                „Çπ„ÉÜ„Éº„Çø„Çπ
                            </label>
                            <div class="filter-buttons">
                                <button class="filter-btn status-filter-btn active" onclick="setGanttFilter('status', 'all')">
                                    „Åô„Åπ„Å¶
                                </button>
                                <button class="filter-btn status-filter-btn" onclick="setGanttFilter('status', 'active')">
                                    ÈÄ≤Ë°å‰∏≠
                                </button>
                                <button class="filter-btn status-filter-btn" onclick="setGanttFilter('status', 'completed')">
                                    ÂÆå‰∫Ü
                                </button>
                            </div>
                        </div>
                        
                        <div class="filter-group">
                            <button class="clear-filters-btn" onclick="clearGanttFilters()">
                                <i class="fas fa-times"></i>
                                „Éï„Ç£„É´„Çø„ÇØ„É™„Ç¢
                            </button>
                        </div>
                    </div>
                </div>

                <div class="gantt-chart-container">
                    <div class="gantt-header">
                        <div class="task-column-header">
                            <i class="fas fa-tasks"></i>
                            „Çø„Çπ„ÇØÊÉÖÂ†±
                        </div>
                        <div class="timeline-header" id="timelineHeader">
                            <!-- Timeline headers will be generated by JavaScript -->
                        </div>
                    </div>
                    <div class="gantt-body" id="ganttBody">
                        <!-- Gantt chart content will be generated by JavaScript -->
                    </div>
                </div>

                <div class="gantt-legend">
                    <div class="legend-item">
                        <div class="legend-color" style="background: linear-gradient(135deg, var(--priority-high-color), #b91c1c);"></div>
                        <span>Á∑äÊÄ•„ÉªÈáçË¶Å</span>
                    </div>
                    <div class="legend-item">
                        <div class="legend-color" style="background: linear-gradient(135deg, var(--priority-medium-color), #d97706);"></div>
                        <span>ÊôÆÈÄö</span>
                    </div>
                    <div class="legend-item">
                        <div class="legend-color" style="background: linear-gradient(135deg, var(--priority-low-color), #059669);"></div>
                        <span>‰ΩéÂÑ™ÂÖàÂ∫¶</span>
                    </div>
                    <div class="legend-item">
                        <div class="legend-color completed" style="background: linear-gradient(135deg, var(--success-color), #374151);"></div>
                        <span>ÂÆå‰∫Ü</span>
                    </div>
                    <div class="legend-item">
                        <div class="legend-color" style="background: linear-gradient(135deg, #dc2626, #7f1d1d);"></div>
                        <span>ÊúüÈôêÂàá„Çå</span>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="points-menu-overlay" id="pointsMenuOverlay">
        <div class="points-menu">
            <div class="points-menu-header">
                <h3 class="points-menu-title">„Éù„Ç§„É≥„ÉàÁÆ°ÁêÜ</h3>
                <button class="points-menu-close" onclick="closePointsMenu()">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="manual-points-section">
                <h4 style="margin: 15px 0 10px 0; font-size: 14px; font-weight: 600; color: var(--text-primary); font-family: 'Orbitron', monospace;">ÊâãÂãï„Éù„Ç§„É≥„ÉàÁ∑®ÈõÜ</h4>
                <div class="manual-points-controls">
                    <input type="number" id="manualPointsInput" placeholder="„Éù„Ç§„É≥„ÉàÊï∞" style="width: 80px; padding: 8px; border: 2px solid var(--secondary-color); border-radius: var(--border-radius); font-size: 12px; margin-right: 5px; font-family: 'Orbitron', monospace;">
                    <button class="points-btn" style="background: var(--success-color); color: white; padding: 8px 12px; margin-right: 5px;" onclick="addManualPoints()">
                        <i class="fas fa-plus"></i>
                        ËøΩÂä†
                    </button>
                    <button class="points-btn" style="background: var(--danger-color); color: white; padding: 8px 12px;" onclick="subtractManualPoints()">
                        <i class="fas fa-minus"></i>
                        Ê∏õÁÆó
                    </button>
                </div>
            </div>
            <div class="point-history-section">
                <h4 style="margin: 15px 0 10px 0; font-size: 14px; font-weight: 600; color: var(--text-primary); font-family: 'Orbitron', monospace;">Áõ¥Ëøë3Êó•„ÅÆ„Éù„Ç§„É≥„ÉàÂ±•Ê≠¥</h4>
                <div id="pointHistoryContainer">
                    <!-- Point history will be rendered here -->
                </div>
            </div>
            <button class="points-btn reset-points" onclick="resetPoints()" style="width: 100%; margin-top: 20px;">
                <i class="fas fa-undo"></i>
                „Éù„Ç§„É≥„Éà„É™„Çª„ÉÉ„Éà
            </button>
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html>